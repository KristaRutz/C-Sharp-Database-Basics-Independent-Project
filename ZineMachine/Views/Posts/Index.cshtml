@{
  Layout = "_Layout";
}

@using ZineMachine.Models;
@model List<ZineMachine.Models.Post>;

<h2>Posts</h2>
<hr>
@if (@Model.Count == 0)
{
  <h3>No posts have been added yet!</h3>
} 

<div class="row">
@foreach(Post post in Model)
{
  <div class="post-item col-md-5" id="post-@post.PostId">
    <h5>@post.Zine.Name</h5>
    <p class="post-header">@post.Zine.User.Name, on @post.TimeCreated:</p>
    <p class="post-body post-content">@post.TextContent</p>
    <p class="post-body post-source">@post.ContentSource</p>
    <p>@Html.ActionLink("Edit", "Edit", "Posts", new { id = post.PostId, @class = "btn btn-light" }) | 
    @Html.ActionLink("Delete", "Delete", "Posts", new { id = post.PostId, @class = "btn btn-light" })</p>
  </div>
}
</div>

@if (ViewBag.ZineCount > 0)
{
<p class="btn btn-light">@Html.ActionLink("Add new post", "Create")</p>
}
<p class="btn btn-light">@Html.ActionLink("Home", "Index", "Home")</p>